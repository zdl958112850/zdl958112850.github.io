import{_ as n,c as s,o as a,a as p}from"./app.d4eb32af.js";const f='{"title":"\u63D2\u4EF6","description":"","frontmatter":{},"headers":[],"relativePath":"font-end/\u6784\u5EFA\u5DE5\u5177/gulp/gulp\u6848\u4F8B.md"}',t={},o=p(`<h1 id="\u63D2\u4EF6" tabindex="-1">\u63D2\u4EF6 <a class="header-anchor" href="#\u63D2\u4EF6" aria-hidden="true">#</a></h1><ol><li>sass\u7684\u7F16\u8BD1\uFF08gulp-ruby-sass\uFF09</li><li>\u81EA\u52A8\u6DFB\u52A0css\u524D\u7F00\uFF08gulp-autoprefixer\uFF09</li><li>\u538B\u7F29css\uFF08gulp-minify-css\uFF09</li><li>js\u4EE3\u7801\u6821\u9A8C\uFF08gulp-jshint\uFF09</li><li>\u5408\u5E76js\u6587\u4EF6\uFF08gulp-concat\uFF09</li><li>\u538B\u7F29js\u4EE3\u7801\uFF08gulp-uglify\uFF09</li><li>\u538B\u7F29\u56FE\u7247\uFF08gulp-imagemin\uFF09</li><li>\u81EA\u52A8\u5237\u65B0\u9875\u9762\uFF08gulp-livereload\uFF09</li><li>\u56FE\u7247\u7F13\u5B58\uFF0C\u53EA\u6709\u56FE\u7247\u66FF\u6362\u4E86\u624D\u538B\u7F29\uFF08gulp-cache\uFF09</li><li>\u66F4\u6539\u63D0\u9192\uFF08gulp-notify\uFF09</li><li>\u6E05\u9664\u6587\u4EF6\uFF08del\uFF09</li></ol><p>cnpm install gulp-ruby-sass gulp-autoprefixer gulp-minify-css gulp-jshint gulp-concat gulp-uglify gulp-imagemin gulp-notify gulp-rename gulp-livereload gulp-cache del --save-dev</p><h1 id="\u5B8C\u6574\u6848\u4F8B" tabindex="-1">\u5B8C\u6574\u6848\u4F8B <a class="header-anchor" href="#\u5B8C\u6574\u6848\u4F8B" aria-hidden="true">#</a></h1><div class="language-js"><pre><code><span class="token keyword">const</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> cssMin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-cssmin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fileInclude <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;gulp-file-include&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-imagemin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;gulp-uglify&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u6253\u5305css\u6587\u4EF6\u5939</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;cssmin&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;./css/*.css&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cssMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/css/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u6253\u5305html\u6587\u4EF6\u5939</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;htmlinclude&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;./html/*.html&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">fileInclude</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">prefix</span><span class="token operator">:</span> <span class="token string">&#39;@@&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">basepath</span><span class="token operator">:</span> <span class="token string">&#39;./components&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">indent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/html/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u6253\u5305imgaes\u6587\u4EF6\u5939</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;imagemin&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;./images/*&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/images/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u6253\u5305js\u6587\u4EF6\u5939</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;jsmin&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;./js/*&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/js/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u6253\u5305plugin\u6587\u4EF6\u5939</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;plugin&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&#39;./plugin/**/*&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/plugin/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u5355\u72EC\u6253\u5305index.html</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;indexinclude&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">done</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    gulp<span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">fileInclude</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">prefix</span><span class="token operator">:</span> <span class="token string">&#39;@@&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">basepath</span><span class="token operator">:</span> <span class="token string">&#39;./components&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">indent</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">&#39;./dist/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// gulp.watch(&#39;./html/\\*.html&#39;,  gulp.series(&#39;cssmin&#39;, &#39;htmlinclude&#39;, &#39;jsmin&#39;, &#39;plugin&#39;, &#39;indexinclude&#39;))</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;watch&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Watch .scss files</span>
    gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&#39;*.html&#39;</span><span class="token punctuation">,</span> gulp<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span><span class="token string">&#39;cssmin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;htmlinclude&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;jsmin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;plugin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;indexinclude&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    gulp<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span><span class="token string">&#39;styles/*&#39;</span><span class="token punctuation">,</span> gulp<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span><span class="token string">&#39;cssmin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;htmlinclude&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;jsmin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;plugin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;indexinclude&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// gulp.task(&#39;default&#39;, gulp.series(&#39;cssmin&#39;, &#39;htmlinclude&#39;, &#39;imagemin&#39;, &#39;jsmin&#39;, &#39;plugin&#39;, &#39;indexinclude&#39;))</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">&#39;default&#39;</span><span class="token punctuation">,</span> gulp<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span><span class="token string">&#39;cssmin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;htmlinclude&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;jsmin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;plugin&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;indexinclude&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>`,5),c=[o];function u(e,l,i,k,r,g){return a(),s("div",null,c)}var m=n(t,[["render",u]]);export{f as __pageData,m as default};
