<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>node.js 是什么 | Derlin Blog</title>
    <meta name="description" content="记录个人技术收获, 博客界面追求极简">
    <link rel="stylesheet" href="/assets/style.b789de2a.css">
    <link rel="modulepreload" href="/assets/app.d4eb32af.js">
    <link rel="modulepreload" href="/assets/font-end_node_index.md.41c6d4bc.lean.js">
    
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
  <script src="https://cdn.wwads.cn/js/makemoney.js" async=""></script>
  <meta name="twitter:title" content="node.js 是什么 | Derlin Blog">
  <meta property="og:title" content="node.js 是什么 | Derlin Blog">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-40587210><div class="sidebar-button" data-v-40587210><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="Derlin Blog, back to home" data-v-40587210 data-v-016a8bd8><img class="logo" src="/logo.svg" alt="Logo" data-v-016a8bd8> Derlin Blog</a><div class="flex-grow" data-v-40587210></div><div class="nav" data-v-40587210><nav class="nav-links" data-v-40587210 data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item active" href="/font-end/" data-v-49fe041d>前端 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/back-end/sql/sql必知必会" data-v-49fe041d>服务端 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/skill/情商技巧.html" data-v-49fe041d>技巧 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/bodybuilding/" data-v-49fe041d>健身 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/photography/" data-v-49fe041d>摄影 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/deliciousFood/index.html" data-v-49fe041d>美食 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>法律</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/law/劳动法.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>劳动法</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/thinking/个人想法.html" data-v-49fe041d>思考 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>杂学</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/other/杂记.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>杂记</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/other/autojs.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>autojs</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/economics/" data-v-49fe041d>经济学 <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-17c48e2f><nav class="nav-links nav" data-v-17c48e2f data-v-35b91e7e><!--[--><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item active" href="/font-end/" data-v-49fe041d>前端 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/back-end/sql/sql必知必会" data-v-49fe041d>服务端 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/skill/情商技巧.html" data-v-49fe041d>技巧 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/bodybuilding/" data-v-49fe041d>健身 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/photography/" data-v-49fe041d>摄影 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/deliciousFood/index.html" data-v-49fe041d>美食 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>法律</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/law/劳动法.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>劳动法</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/thinking/个人想法.html" data-v-49fe041d>思考 <!----></a></div></div><div class="item" data-v-35b91e7e><div class="nav-dropdown-link" data-v-35b91e7e data-v-18d75f62><button class="button" data-v-18d75f62><span class="button-text" data-v-18d75f62>杂学</span><span class="right button-arrow" data-v-18d75f62></span></button><ul class="dialog" data-v-18d75f62><!--[--><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/other/杂记.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>杂记</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><li class="dialog-item" data-v-18d75f62><div class="nav-dropdown-link-item" data-v-18d75f62 data-v-07381bdb><a class="item" href="/other/autojs.html" data-v-07381bdb><span class="arrow" data-v-07381bdb></span><span class="text" data-v-07381bdb>autojs</span><span class="icon" data-v-07381bdb><!----></span></a></div></li><!--]--></ul></div></div><div class="item" data-v-35b91e7e><div class="nav-link" data-v-35b91e7e data-v-49fe041d><a class="item" href="/economics/" data-v-49fe041d>经济学 <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-17c48e2f><!--[--><li class="sidebar-link"><p class="sidebar-link-item">css</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/css/index.html">css</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/css/优雅的css.html">优雅的css</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/css/响应式.html">响应式</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/css/栅格布局.html">栅格布局</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/css/过度.html">过度</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">echarts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/echarts/index.html">echarts</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">git</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/git/index.html">git</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">jquery</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/jquery/index.html">jquery</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">js</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/js/index.html">js</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">js高级</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/js高级/index.html">js高级</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">linux</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/linux/index.html">linux</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">node</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/font-end/node/index.html">node</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#process">process</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#模块化">模块化</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#内置模块">内置模块</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#url">url</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#日志记录">日志记录</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#http-和-https">http 和 https</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#浏览器调试-node-js-代码">浏览器调试 node.js 代码</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#发送请求-比-postman-好用">发送请求, 比 postman 好用</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#node-发送请求">node 发送请求</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#jsonp-的跨域请求">jsonp 的跨域请求</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#cors-实现跨域">cors 实现跨域</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#代理访问">代理访问</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#爬虫">爬虫</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#cheerio">cheerio</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#事件模块">事件模块</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">python</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/python/index.html">python</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">react</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/react/index.html">react</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">sass</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/sass/index.html">sass</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">svg</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/svg/index.html">svg</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">threejs</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/threejs/index.html">threejs</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">ts</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/ts/index.html">ts</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">utils</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/utils/index.html">utils</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">vue3</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/vue3/index.html">vue3</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/vue3/vue3实战.html">vue3实战</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/vue3/vue原理.html">vue原理</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/vue3/初尝vue3.html">初尝vue3</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">小程序</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/小程序/小程序.html">小程序</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/小程序/小程序开发流程.html">小程序开发流程</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/小程序/uni-app.html">uni-app</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">正则</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/正则/index.html">正则</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">构建工具</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/构建工具/gulp/index.html">gulp</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/构建工具/webpack/index.html">webpack</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">优化</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/font-end/优化/index.html">vue优化</a><!----></li></ul></li><!--]--></ul><!--[--><!--[--><div class="sponsors sidebar"><div></div></div><!--]--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-8fcebc32><div class="container" data-v-8fcebc32><!--[--><!--]--><div style="position:relative;" class="content" data-v-8fcebc32><div><h1 id="node-js-是什么" tabindex="-1">node.js 是什么 <a class="header-anchor" href="#node-js-是什么" aria-hidden="true">#</a></h1><h1 id="为什么会有-node-js" tabindex="-1">为什么会有 node.js <a class="header-anchor" href="#为什么会有-node-js" aria-hidden="true">#</a></h1><h1 id="node-js-为了解决什么" tabindex="-1">node.js 为了解决什么 <a class="header-anchor" href="#node-js-为了解决什么" aria-hidden="true">#</a></h1><h1 id="浏览器介绍" tabindex="-1">浏览器介绍 <a class="header-anchor" href="#浏览器介绍" aria-hidden="true">#</a></h1><ul><li>Mozilla 推出 Firefox 浏览器</li><li>Apple 推出了基于 WebKit 内核的 Safari 浏览器</li><li>Google 推出了基于 WebKit 内核的 chrome 浏览器, 后面开发了 v8 引擎</li></ul><h1 id="module-exports-实现原理" tabindex="-1">module.exports 实现原理 <a class="header-anchor" href="#module-exports-实现原理" aria-hidden="true">#</a></h1><h1 id="module-exports-和-exports-的关系" tabindex="-1">module.exports 和 exports 的关系 <a class="header-anchor" href="#module-exports-和-exports-的关系" aria-hidden="true">#</a></h1><div class="language-js"><pre><code><span class="token keyword">var</span> exports <span class="token operator">=</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">;</span>
</code></pre></div><h1 id="node-基本模块" tabindex="-1">node 基本模块 <a class="header-anchor" href="#node-基本模块" aria-hidden="true">#</a></h1><h2 id="process" tabindex="-1">process <a class="header-anchor" href="#process" aria-hidden="true">#</a></h2><div class="language-"><pre><code>&gt; process === global.process;
true
&gt; process.version;
&#39;v5.2.0&#39;
&gt; process.platform;
&#39;darwin&#39;
&gt; process.arch;
&#39;x64&#39;
&gt; process.cwd(); //返回当前工作目录
&#39;/Users/michael&#39;
&gt; process.chdir(&#39;/private/tmp&#39;); // 切换当前工作目录
undefined
&gt; process.cwd();
&#39;/private/tmp&#39;
</code></pre></div><div class="language-"><pre><code>// process.nextTick()将在下一轮事件循环中调用:
process.nextTick
</code></pre></div><div class="language-"><pre><code>// 程序即将退出时的回调函数:
process.on(&#39;exit&#39;, function (code) {
    console.log(&#39;about to exit with code: &#39; + code);
});
</code></pre></div><h1 id="判断-js-执行环境" tabindex="-1">判断 js 执行环境 <a class="header-anchor" href="#判断-js-执行环境" aria-hidden="true">#</a></h1><div class="language-"><pre><code>if (typeof(window) === &#39;undefined&#39;) {
    console.log(&#39;node.js&#39;);
} else {
    console.log(&#39;browser&#39;);
}
</code></pre></div><h1 id="异步读取文件" tabindex="-1">异步读取文件 <a class="header-anchor" href="#异步读取文件" aria-hidden="true">#</a></h1><div class="language-"><pre><code>&#39;use strict&#39;;

var fs = require(&#39;fs&#39;);

fs.readFile(&#39;sample.txt&#39;, &#39;utf-8&#39;, function (err, data) {
    if (err) {
        console.log(err);
    } else {
        console.log(data);
    }
});
</code></pre></div><h1 id="同步读取文件" tabindex="-1">同步读取文件 <a class="header-anchor" href="#同步读取文件" aria-hidden="true">#</a></h1><div class="language-"><pre><code>// 需要通过try来捕获异常
try {
    var data = fs.readFileSync(&#39;sample.txt&#39;, &#39;utf-8&#39;);
    console.log(data);
} catch (err) {
    // 出错了
}
</code></pre></div><h1 id="异步写文件" tabindex="-1">异步写文件 <a class="header-anchor" href="#异步写文件" aria-hidden="true">#</a></h1><div class="language-"><pre><code>&#39;use strict&#39;;

var fs = require(&#39;fs&#39;);

var data = &#39;Hello, Node.js&#39;;
fs.writeFile(&#39;output.txt&#39;, data, function (err) {
    if (err) {
        console.log(err);
    } else {
        console.log(&#39;ok.&#39;);
    }
});
</code></pre></div><blockquote><p>由于 Node 环境执行的 JavaScript 代码是服务器端代码，所以，绝大部分需要在服务器运行期反复执行业务逻辑的代码，<em>必须使用异步代码</em>，否则，同步代码在执行时期，服务器将停止响应，因为 JavaScript 只有一个执行线程。</p></blockquote><p>所有使用参照 <a href="http://nodejs.org" target="_blank" rel="noopener noreferrer">nodejs.org</a> 官网</p><h2 id="模块化" tabindex="-1">模块化 <a class="header-anchor" href="#模块化" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token comment">// 暴露方法</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">,</span>
  age<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 还可以使用, 功能是一样的, 相当于exports是module.exports的引用,</span>
exports<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token comment">// 只能通过这样的写法, 而不能通过</span>
exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">,</span>
  age<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 这样写相当于对该引用重新赋值, 改变了之前的引用</span>
</code></pre></div><h2 id="内置模块" tabindex="-1">内置模块 <a class="header-anchor" href="#内置模块" aria-hidden="true">#</a></h2><h3 id="url" tabindex="-1">url <a class="header-anchor" href="#url" aria-hidden="true">#</a></h3><p>将地址拆分为对象</p><div class="language-js"><pre><code><span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> urlString <span class="token operator">=</span> <span class="token string">&#39;https://ww.baidu.com:443/path/index.html?id=2#tag=3&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>urlString<span class="token punctuation">)</span><span class="token punctuation">)</span>

Url <span class="token punctuation">{</span>
    protocol： <span class="token string">&#39;https：&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">slashes</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        host： <span class="token string">&#39;www.baidu.com:443&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&#39;443&#39;</span><span class="token punctuation">,</span>
        hostname： <span class="token string">&#39;www.baidu.com&#39;</span><span class="token punctuation">,</span>
        hash： <span class="token string">&#39;#tag=3&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">search</span><span class="token operator">:</span> <span class="token string">&#39;?id=2&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token string">&#39;id=2&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">&#39;/path/index.html&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/path/index.html?id=2&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">href</span><span class="token operator">:</span> <span class="token string">&#39;https://www.baidu.com:443/path/index.html?id=2#tag=3&#39;</span>
<span class="token punctuation">}</span>

url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>urlstring<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将地址字符串转为对象</span>
url<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>url0bj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将对象转为字符串</span>
url<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;http://ww.abc.com/a&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/b&#39;</span> <span class="token comment">// 将地址进行拼接</span>
        <span class="token comment">// query参数</span>
        <span class="token keyword">const</span> urlParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>urlString<span class="token punctuation">)</span><span class="token punctuation">.</span>search<span class="token punctuation">)</span>
        urlParams<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="日志记录" tabindex="-1">日志记录 <a class="header-anchor" href="#日志记录" aria-hidden="true">#</a></h3><ul><li>log4js</li></ul><p><a href="https://www.npmjs.com/package/log4js" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/log4js</a></p><h3 id="http-和-https" tabindex="-1">http 和 https <a class="header-anchor" href="#http-和-https" aria-hidden="true">#</a></h3><h3 id="浏览器调试-node-js-代码" tabindex="-1">浏览器调试 node.js 代码 <a class="header-anchor" href="#浏览器调试-node-js-代码" aria-hidden="true">#</a></h3><p>在 node 端输入 node--inspect--inspect-brk 文件.js 在浏览器端 输入 chrome://inspect/#devices</p><h3 id="发送请求-比-postman-好用" tabindex="-1">发送请求, 比 postman 好用 <a class="header-anchor" href="#发送请求-比-postman-好用" aria-hidden="true">#</a></h3><p><a href="https://insomnia.rest/download/" target="_blank" rel="noopener noreferrer">https://insomnia.rest/download/</a></p><h3 id="node-发送请求" tabindex="-1">node 发送请求 <a class="header-anchor" href="#node-发送请求" aria-hidden="true">#</a></h3><div class="language-js"><pre><code>https<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://ww.xiaomiyoupin.com/mtop/mf/cat/list&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
    result<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;data&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>chunk<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token punctuation">{</span>
        data <span class="token operator">+=</span> chunk
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    result<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;end&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token punctuation">{</span>
            response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                    <span class="token string-property property">&#39;content - type &#39;</span><span class="token operator">:</span> <span class="token string">&#39;application / json;charset = utf-8 &#39;</span>
                <span class="token punctuation">}</span>）
                response<span class="token punctuation">.</span>writelfjsoN<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>querystring<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="jsonp-的跨域请求" tabindex="-1">jsonp 的跨域请求 <a class="header-anchor" href="#jsonp-的跨域请求" aria-hidden="true">#</a></h2><ol><li>客服端需要在本地写一个函数, 比如 callback, 并且要把这个函数名称, 注意是名称传递给后端</li><li>后端返回调用这个函数的 js, 就可以调用浏览器端的这个函数</li></ol><p>服务器端代码 <img src="https://i.loli.net/2021/02/20/k6Pz3YnMcblWOHa.png" alt=""> 客户端代码: <img src="https://i.loli.net/2021/02/20/egUiW7G9a4KcyfD.png" alt=""></p><h2 id="cors-实现跨域" tabindex="-1">cors 实现跨域 <a class="header-anchor" href="#cors-实现跨域" aria-hidden="true">#</a></h2><div class="language-js"><pre><code>    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span>， <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;content-type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json;charset=utf-8&#39;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&#39;Access-control-A1lovw-0rigin&#39;</span><span class="token operator">:</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="代理访问" tabindex="-1">代理访问 <a class="header-anchor" href="#代理访问" aria-hidden="true">#</a></h2><p>通过 middleware(http-proxy-middware) node 中的使用方法:</p><div class="language-js"><pre><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> apiProxy <span class="token operator">=</span> <span class="token function">proxy</span><span class="token punctuation">(</span>&quot;<span class="token operator">/</span>api&#39;<span class="token punctuation">,</span><span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;https: //m.lagou.com&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">// &#39;~/api&#39;: &#39;&#39; // 将api替换为空</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// http-proy-middleware 在Node.js中使用的方法</span>
    <span class="token function">apiProxy</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="爬虫" tabindex="-1">爬虫 <a class="header-anchor" href="#爬虫" aria-hidden="true">#</a></h2><h3 id="cheerio" tabindex="-1">cheerio <a class="header-anchor" href="#cheerio" aria-hidden="true">#</a></h3><p>将爬虫的 html 字符串转为虚拟 dom 爬虫函数</p><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">filterData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> $ <span class="token operator">=</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.section-item-box p&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> el</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">$</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 就能拿到指定的标题</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="事件模块" tabindex="-1">事件模块 <a class="header-anchor" href="#事件模块" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">const</span> EventEmitter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;events&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">MyEventEmitter</span> <span class="token keyword">extends</span> <span class="token class-name">EventEmitter</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyEventEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
event<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;play&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
event<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;play&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;movie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div></div><footer class="page-footer" data-v-8fcebc32 data-v-b65b4b36><div class="edit" data-v-b65b4b36><div class="edit-link" data-v-b65b4b36 data-v-55695e90><!----></div></div><div class="updated" data-v-b65b4b36><!----></div></footer><div class="next-and-prev-link" data-v-8fcebc32 data-v-e65a9748><div class="container" data-v-e65a9748><div class="prev" data-v-e65a9748><a class="link" href="/font-end/linux/" data-v-e65a9748><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-e65a9748><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-e65a9748>linux</span></a></div><div class="next" data-v-e65a9748><a class="link" href="/font-end/python/" data-v-e65a9748><span class="text" data-v-e65a9748>python</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-e65a9748><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"readme.md\":\"d659ba14\",\"back-end_java_index-冲突-爱穿西装的古惑仔_win10.md\":\"3842fc24\",\"back-end_java_index.md\":\"4f0e1831\",\"back-end_sql_sql必知必会.md\":\"e617f580\",\"blog_announcing-vite2.md\":\"25a3f068\",\"bodybuilding_index.md\":\"363930c9\",\"deliciousfood_index.md\":\"34c5154c\",\"economics_index.md\":\"93f2a852\",\"font-end_auto.js_index.md\":\"99fb5815\",\"font-end_css_css设计.md\":\"192bf22e\",\"font-end_css_index.md\":\"b6c99c05\",\"font-end_css_优雅的css.md\":\"77c7ebcc\",\"font-end_css_响应式.md\":\"536c0882\",\"font-end_css_栅格布局.md\":\"84c11d93\",\"font-end_css_过度.md\":\"d6311bea\",\"font-end_echarts_index copy.md\":\"abdc820f\",\"font-end_echarts_index.md\":\"ad68dcaa\",\"font-end_git_index.md\":\"5f2ab9b9\",\"font-end_index.md\":\"fddd7e5d\",\"font-end_jquery_index.md\":\"b26ef32f\",\"font-end_js_index.md\":\"32daf0a9\",\"font-end_js_破解javascript高级玩法.md\":\"8850f3d6\",\"font-end_js高级_es6.md\":\"de87547d\",\"font-end_js高级_index.md\":\"d64855ca\",\"font-end_linux_index.md\":\"74152c77\",\"font-end_node_index.md\":\"41c6d4bc\",\"font-end_python_index.md\":\"550ee078\",\"font-end_react_index.md\":\"b167a3a8\",\"font-end_sass_index.md\":\"82289ab8\",\"font-end_svg_index.md\":\"2daaca83\",\"font-end_threejs_index.md\":\"e4e717f1\",\"font-end_ts_index.md\":\"f08ffda6\",\"font-end_utils_index.md\":\"0467bfe4\",\"font-end_vue3_index.md\":\"4d7a40b6\",\"font-end_vue3_vue3实战.md\":\"ca2bccf3\",\"font-end_vue3_vue原理.md\":\"eb98db92\",\"font-end_vue3_初尝vue3.md\":\"f113630d\",\"font-end_优化_index.md\":\"0c98e076\",\"font-end_大屏可视化_index.md\":\"68d10129\",\"font-end_小程序_uni-app.md\":\"5a38f0c6\",\"font-end_小程序_小程序.md\":\"69db3549\",\"font-end_小程序_小程序开发流程.md\":\"6d19bfb3\",\"font-end_构建工具_gulp_gulp案例.md\":\"7779baca\",\"font-end_构建工具_gulp_index.md\":\"3d645f7c\",\"font-end_构建工具_webpack_index.md\":\"a141d95d\",\"font-end_正则_index.md\":\"842b2d36\",\"font-end_流程设计_流程设计.md\":\"ff288d25\",\"font-end_源码所获_index.md\":\"8cc67ba1\",\"index.md\":\"df9a98ec\",\"informal-essay_index.md\":\"b425145d\",\"law_劳动法.md\":\"8d1423dc\",\"other_autojs.md\":\"1b19e0f8\",\"other_杂记.md\":\"040b75f8\",\"photography_index.md\":\"358c46aa\",\"photography_后期-冲突-爱穿西装的古惑仔_win10.md\":\"a9edfe80\",\"photography_后期.md\":\"dd0f2f2e\",\"photography_拍摄技巧.md\":\"0ea67eee\",\"photography_摄影.md\":\"549e67ec\",\"plan_index.md\":\"6cf9d1dd\",\"skill_vscode.md\":\"8f699b53\",\"skill_学习方法.md\":\"5d07d800\",\"skill_情商技巧.md\":\"b89be193\",\"skill_炒肉技巧.md\":\"3be83e25\",\"skill_精致男.md\":\"6b98ab71\",\"skill_购物.md\":\"712873f0\",\"thinking_index.md\":\"1d1d92fa\",\"thinking_个人想法.md\":\"77af7805\"}")</script>
    <script type="module" async src="/assets/app.d4eb32af.js"></script>
    
  </body>
</html>